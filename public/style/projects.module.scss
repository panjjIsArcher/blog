@import "./various.scss";
$duration: 1s;

.container {
    height: 100%;
    width: 100%;
    position: relative;
    $rate: 99.5%;
    $rest: 100% - $rate;

    animation: {
        name: bg-color;
        duration: $duration;
        delay: $duration;
        fill-mode: forwards;
    }

    >.middle {
        >.box {
            background-color: $theme-color;
            position: absolute;
            width: 100vw;
            height: 100vh;

            animation: {
                duration: $duration;
                fill-mode: forwards;
            }
        }

        >.left-box {
            clip-path: polygon($rate 0, 0 0, 0 $rate);
            animation-name: move-from-left;
        }

        >.right-box {
            clip-path: polygon($rate $rate, $rate $rest, 0 $rate);
            animation-name: move-from-right;
        }

        @keyframes move-from-left {
            0% {
                left: -100%;
            }

            100% {
                left: 0;
            }
        }

        @keyframes move-from-right {
            0% {
                left: 100%;
            }

            100% {
                left: 0;
            }
        }


        >.projects {
            overflow: hidden;
            height: 100vw;
            width: 100%;

            >.ul {
                margin: 0;
                padding: 0;
                color: #fff;
                height: 100%;
                width: 100%;
                list-style-type: none;
                overflow: hidden;
                $gap: 2.5vw;
                position: relative;

                >li {
                    $width: 30vw;
                    width: 30vw;
                    background-color: $sub-color;
                    height: 20vw;
                    position: absolute;
                    left: calc(var(--index) * $width + $gap * (var(--index) + 1));
                    $top: 5vh;

                    animation: {
                        duration: 2s;
                        fill-mode: forwards;
                        delay: calc($duration * (1.25* (var(--index) + 1)));
                        // iteration-count: infinite;
                    }

                    &:first-child {
                        top: 0;
                        left: 100%;
                        transform: translateY(-100%);
                        animation-name: first-move-in;
                    }

                    @keyframes first-move-in {
                        0% {
                            top: 0;
                            left: 100%
                        }

                        100% {
                            top: 100vh - $top;
                            left: calc(var(--index) * $width + $gap * (var(--index) + 1));
                        }
                    }

                    &:nth-child(2) {
                        top: 0;
                        left: 100%;
                        transform: translateY(-50%);
                        animation-name: sec-move-in;
                    }

                    @keyframes sec-move-in {
                        0% {
                            top: 0;
                            left: 100%
                        }

                        100% {
                            top: 50vh;
                            left: calc(var(--index) * $width + $gap * (var(--index) + 1));
                        }
                    }

                    &:nth-child(3) {
                        animation-name: third-move-in;
                        top: 0;
                        left: 100%;
                    }

                    @keyframes third-move-in {
                        0% {
                            top: 0;
                            left: 100%
                        }

                        100% {
                            top: $top;
                            left: calc(var(--index) * $width + $gap * (var(--index) + 1));
                        }

                    }
                }


            }
        }
    }

}



@keyframes bg-color {
    0% {
        background-image: linear-gradient(to right, transparent, transparent);
    }

    100% {
        background-image: linear-gradient(to right, $sub-color, $sub-color);
    }
}